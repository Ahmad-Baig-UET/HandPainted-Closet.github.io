<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Hainpainted Closet</title>
<link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Jost:wght@300;400;500;600&family=Libre+Baskerville:ital@1&display=swap" rel="stylesheet"/>
<style>
  *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

  :root {
    --bg: #0e0c0b;
    --surface: #161412;
    --card: #1c1917;
    --border: #2a2420;
    --gold: #c9a96e;
    --gold-light: #e2c98a;
    --rose: #c97a6e;
    --text: #f0ebe4;
    --muted: #7a6e65;
    --soft: #3a3330;
  }

  html { scroll-behavior: smooth; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Jost', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Grain */
  body::after {
    content:'';
    position:fixed;
    inset:0;
    background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
    pointer-events:none;
    z-index:9998;
    opacity:0.5;
  }

  ::-webkit-scrollbar { width:5px; }
  ::-webkit-scrollbar-track { background:var(--bg); }
  ::-webkit-scrollbar-thumb { background:var(--soft); border-radius:3px; }

  /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
  header {
    position:sticky; top:0; z-index:100;
    background:rgba(14,12,11,0.92);
    backdrop-filter:blur(12px);
    border-bottom:1px solid var(--border);
    padding:0 40px;
    height:72px;
    display:flex; align-items:center; justify-content:space-between;
  }

  .logo {
    font-family:'Bodoni Moda', serif;
    font-size:22px;
    letter-spacing:0.5px;
    color:var(--text);
    line-height:1.1;
  }
  .logo em {
    font-style:italic;
    color:var(--gold);
  }

  .nav-right {
    display:flex; align-items:center; gap:16px;
  }

  .btn-cart {
    background:var(--gold);
    color:#0e0c0b;
    border:none;
    padding:10px 22px;
    border-radius:30px;
    font-family:'Jost',sans-serif;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
    display:flex; align-items:center; gap:8px;
    transition:all .2s;
    letter-spacing:.5px;
  }
  .btn-cart:hover { background:var(--gold-light); transform:translateY(-1px); }

  .cart-badge {
    background:#0e0c0b;
    color:var(--gold);
    border-radius:50%;
    width:20px; height:20px;
    display:flex; align-items:center; justify-content:center;
    font-size:11px; font-weight:700;
  }

  .btn-admin {
    background:none; border:none;
    color:var(--muted);
    font-family:'Jost',sans-serif;
    font-size:13px;
    cursor:pointer;
    text-decoration:underline;
    text-underline-offset:3px;
    transition:color .2s;
  }
  .btn-admin:hover { color:var(--text); }

  /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
  .hero {
    position:relative;
    padding:100px 40px 80px;
    text-align:center;
    overflow:hidden;
  }

  .hero-bg {
    position:absolute; inset:0;
    background: radial-gradient(ellipse 80% 60% at 50% 0%, rgba(201,169,110,0.12) 0%, transparent 70%),
                radial-gradient(ellipse 50% 40% at 80% 100%, rgba(201,122,110,0.08) 0%, transparent 60%);
  }

  .hero-tag {
    display:inline-block;
    border:1px solid var(--gold);
    color:var(--gold);
    font-size:10px;
    letter-spacing:4px;
    text-transform:uppercase;
    padding:6px 18px;
    border-radius:30px;
    margin-bottom:28px;
    font-weight:500;
  }

  .hero-title {
    font-family:'Bodoni Moda', serif;
    font-size:clamp(48px, 8vw, 88px);
    line-height:1.0;
    color:var(--text);
    margin-bottom:8px;
  }

  .hero-title em {
    font-style:italic;
    color:var(--gold);
    display:block;
  }

  .hero-sub {
    font-family:'Libre Baskerville', serif;
    font-style:italic;
    font-size:18px;
    color:var(--muted);
    margin-top:16px;
  }

  .hero-line {
    width:60px; height:1px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
    margin:32px auto 0;
  }

  /* ‚îÄ‚îÄ SHOP ‚îÄ‚îÄ */
  .shop {
    max-width:1200px;
    margin:0 auto;
    padding:60px 40px 80px;
  }

  .shop-header {
    display:flex; align-items:baseline; justify-content:space-between;
    margin-bottom:40px;
    border-bottom:1px solid var(--border);
    padding-bottom:20px;
  }

  .shop-title {
    font-family:'Bodoni Moda', serif;
    font-size:28px;
    color:var(--text);
    font-style:italic;
  }

  .shop-count {
    color:var(--muted);
    font-size:13px;
  }

  .grid {
    display:grid;
    grid-template-columns:repeat(auto-fill, minmax(260px, 1fr));
    gap:24px;
  }

  .product-card {
    background:var(--card);
    border:1px solid var(--border);
    border-radius:12px;
    overflow:hidden;
    transition:all .3s cubic-bezier(.34,1.56,.64,1);
    position:relative;
  }
  .product-card:hover {
    transform:translateY(-6px);
    border-color:var(--soft);
    box-shadow:0 20px 60px rgba(0,0,0,0.5);
  }

  .product-img {
    width:100%; aspect-ratio:4/5;
    background:var(--surface);
    display:flex; align-items:center; justify-content:center;
    font-size:56px;
    overflow:hidden;
    position:relative;
  }
  .product-img img {
    width:100%; height:100%;
    object-fit:cover;
    transition:transform .4s ease;
  }
  .product-card:hover .product-img img { transform:scale(1.04); }

  .product-body { padding:18px; }

  .product-name {
    font-family:'Bodoni Moda', serif;
    font-size:17px;
    color:var(--text);
    margin-bottom:6px;
    line-height:1.3;
  }

  .product-price {
    font-size:18px;
    color:var(--gold);
    font-weight:600;
    margin-bottom:14px;
    letter-spacing:.3px;
  }

  .btn-add {
    width:100%;
    background:transparent;
    border:1px solid var(--soft);
    color:var(--text);
    padding:10px;
    border-radius:8px;
    font-family:'Jost',sans-serif;
    font-size:13px;
    font-weight:500;
    cursor:pointer;
    letter-spacing:.5px;
    transition:all .2s;
  }
  .btn-add:hover {
    background:var(--gold);
    color:#0e0c0b;
    border-color:var(--gold);
  }

  .empty {
    grid-column:1/-1;
    text-align:center;
    padding:80px 20px;
    color:var(--muted);
  }
  .empty-icon { font-size:56px; margin-bottom:16px; opacity:.4; display:block; }
  .empty p { font-family:'Libre Baskerville',serif; font-style:italic; font-size:20px; }

  /* ‚îÄ‚îÄ MODALS ‚îÄ‚îÄ */
  .overlay {
    position:fixed; inset:0; z-index:200;
    background:rgba(0,0,0,0.75);
    backdrop-filter:blur(6px);
    display:flex; align-items:center; justify-content:center;
    padding:20px;
    animation:fadeIn .2s ease;
  }
  @keyframes fadeIn { from{opacity:0} to{opacity:1} }

  .modal {
    background:var(--surface);
    border:1px solid var(--border);
    border-radius:16px;
    padding:36px;
    width:100%; max-width:480px;
    max-height:90vh; overflow-y:auto;
    position:relative;
    animation:slideUp .3s ease;
  }
  @keyframes slideUp { from{transform:translateY(24px);opacity:0} to{transform:translateY(0);opacity:1} }

  .modal-lg { max-width:600px; }

  .modal-close {
    position:absolute; top:14px; right:18px;
    background:none; border:none;
    color:var(--muted); font-size:24px;
    cursor:pointer; line-height:1;
    transition:color .2s;
  }
  .modal-close:hover { color:var(--text); }

  .modal-title {
    font-family:'Bodoni Moda', serif;
    font-size:24px;
    font-style:italic;
    color:var(--text);
    margin-bottom:4px;
  }

  .modal-sub {
    color:var(--muted);
    font-size:13px;
    margin-bottom:24px;
  }

  /* Form */
  .form-group { margin-bottom:18px; }

  .form-label {
    display:block;
    font-size:11px;
    font-weight:600;
    letter-spacing:2px;
    text-transform:uppercase;
    color:var(--muted);
    margin-bottom:8px;
  }

  .form-input {
    width:100%;
    background:var(--card);
    border:1px solid var(--border);
    border-radius:8px;
    padding:12px 14px;
    color:var(--text);
    font-family:'Jost',sans-serif;
    font-size:14px;
    outline:none;
    transition:border-color .2s;
  }
  .form-input:focus { border-color:var(--gold); }
  .form-input::placeholder { color:var(--muted); }

  .btn-primary {
    width:100%;
    background:var(--gold);
    color:#0e0c0b;
    border:none;
    padding:14px;
    border-radius:8px;
    font-family:'Jost',sans-serif;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
    letter-spacing:.5px;
    transition:all .2s;
    margin-top:8px;
  }
  .btn-primary:hover { background:var(--gold-light); transform:translateY(-1px); }

  .btn-ghost {
    width:100%;
    background:transparent;
    color:var(--muted);
    border:1px solid var(--border);
    padding:12px;
    border-radius:8px;
    font-family:'Jost',sans-serif;
    font-size:13px;
    cursor:pointer;
    transition:all .2s;
    margin-top:10px;
  }
  .btn-ghost:hover { color:var(--text); border-color:var(--soft); }

  /* Cart Items */
  .cart-item {
    display:flex; gap:14px; align-items:center;
    padding:14px 0;
    border-bottom:1px solid var(--border);
  }

  .cart-thumb {
    width:64px; height:64px;
    border-radius:8px;
    background:var(--card);
    overflow:hidden;
    flex-shrink:0;
    display:flex; align-items:center; justify-content:center;
    font-size:26px;
  }
  .cart-thumb img { width:100%; height:100%; object-fit:cover; }

  .cart-info { flex:1; }

  .cart-name {
    font-family:'Bodoni Moda', serif;
    font-size:15px;
    color:var(--text);
    margin-bottom:4px;
  }

  .cart-price { color:var(--gold); font-size:14px; }

  .qty-wrap { display:flex; align-items:center; gap:10px; }

  .qty-btn {
    width:28px; height:28px;
    border-radius:50%;
    border:1px solid var(--border);
    background:var(--card);
    color:var(--text);
    font-size:16px;
    cursor:pointer;
    display:flex; align-items:center; justify-content:center;
    transition:all .15s;
  }
  .qty-btn:hover { background:var(--gold); color:#0e0c0b; border-color:var(--gold); }

  .qty-num { font-weight:600; min-width:18px; text-align:center; }

  .remove-btn {
    background:none; border:none;
    color:var(--muted); font-size:18px;
    cursor:pointer; margin-left:4px;
    transition:color .2s;
  }
  .remove-btn:hover { color:var(--rose); }

  .cart-total-row {
    display:flex; justify-content:space-between; align-items:center;
    padding:18px 0 8px;
  }
  .total-label { font-family:'Bodoni Moda',serif; font-size:18px; color:var(--text); font-style:italic; }
  .total-val { font-size:26px; color:var(--gold); font-weight:600; }

  /* WhatsApp note */
  .wa-note {
    background:rgba(37,211,102,0.08);
    border:1px solid rgba(37,211,102,0.2);
    border-radius:10px;
    padding:14px;
    display:flex; gap:10px; align-items:flex-start;
    margin-bottom:16px;
    font-size:13px;
    color:#a8e6b8;
    line-height:1.5;
  }
  .wa-icon { font-size:20px; flex-shrink:0; }

  /* Divider */
  .divider { border:none; border-top:1px solid var(--border); margin:20px 0; }

  /* Admin tabs */
  .tab-bar {
    display:flex; gap:4px;
    background:var(--card);
    padding:4px; border-radius:10px;
    margin-bottom:24px;
  }
  .tab {
    flex:1; padding:9px;
    border:none; background:transparent;
    color:var(--muted);
    font-family:'Jost',sans-serif;
    font-size:13px; font-weight:500;
    cursor:pointer; border-radius:7px;
    transition:all .2s;
  }
  .tab.active { background:var(--surface); color:var(--gold); }

  /* Upload */
  .upload-box {
    border:2px dashed var(--border);
    border-radius:10px;
    padding:28px;
    text-align:center;
    cursor:pointer;
    background:var(--card);
    transition:all .2s;
    margin-bottom:18px;
    position:relative;
  }
  .upload-box:hover { border-color:var(--gold); }
  .upload-box input { position:absolute; inset:0; opacity:0; cursor:pointer; width:100%; height:100%; }
  .upload-icon { font-size:36px; margin-bottom:8px; display:block; }
  .upload-text { color:var(--muted); font-size:13px; }
  .upload-preview { width:100%; max-height:180px; object-fit:cover; border-radius:8px; margin-bottom:14px; }

  /* Products admin list */
  .p-item {
    display:flex; align-items:center; gap:12px;
    padding:12px 0; border-bottom:1px solid var(--border);
  }
  .p-thumb {
    width:50px; height:50px; border-radius:8px;
    background:var(--card); overflow:hidden;
    display:flex; align-items:center; justify-content:center;
    font-size:22px; flex-shrink:0;
  }
  .p-thumb img { width:100%; height:100%; object-fit:cover; }
  .p-info { flex:1; }
  .p-name { font-size:14px; color:var(--text); margin-bottom:2px; }
  .p-price { font-size:13px; color:var(--gold); }
  .btn-del {
    background:none; border:1px solid #4a2020;
    color:#e57373; padding:5px 12px; border-radius:6px;
    font-size:12px; cursor:pointer; transition:all .2s;
    font-family:'Jost',sans-serif;
  }
  .btn-del:hover { background:#4a2020; }

  /* Orders */
  .order-card {
    background:var(--card);
    border:1px solid var(--border);
    border-radius:10px;
    padding:16px;
    margin-bottom:12px;
  }
  .order-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
  .order-id { font-size:11px; color:var(--muted); font-family:monospace; }
  .order-date { font-size:11px; color:var(--muted); }
  .order-customer { font-size:15px; color:var(--text); font-weight:500; margin-bottom:4px; }
  .order-contact { font-size:12px; color:var(--muted); margin-bottom:6px; }
  .order-items { font-size:12px; color:var(--muted); margin-bottom:8px; line-height:1.5; }
  .order-footer { display:flex; justify-content:space-between; align-items:center; }
  .order-total { color:var(--gold); font-weight:600; font-size:16px; }
  .order-status { background:rgba(37,211,102,0.1); color:#6ed07a; padding:3px 10px; border-radius:20px; font-size:11px; font-weight:600; }

  .csv-btn {
    background:var(--soft); color:var(--text);
    border:none; padding:9px 18px;
    border-radius:8px; font-family:'Jost',sans-serif;
    font-size:13px; font-weight:500; cursor:pointer;
    display:flex; align-items:center; gap:6px;
    transition:all .2s;
  }
  .csv-btn:hover { background:var(--gold); color:#0e0c0b; }

  /* Success */
  .success-wrap { text-align:center; padding:30px 0; }
  .success-emoji { font-size:60px; margin-bottom:20px; display:block; }
  .success-title { font-family:'Bodoni Moda',serif; font-size:26px; font-style:italic; color:var(--gold); margin-bottom:10px; }
  .success-msg { color:var(--muted); line-height:1.7; font-size:14px; margin-bottom:20px; }

  .wa-open-btn {
    display:inline-flex; align-items:center; gap:10px;
    background:#25D366; color:white;
    border:none; padding:14px 28px;
    border-radius:30px; font-family:'Jost',sans-serif;
    font-size:15px; font-weight:600; cursor:pointer;
    text-decoration:none; margin-bottom:12px;
    transition:all .2s; width:100%; justify-content:center;
  }
  .wa-open-btn:hover { background:#20bd5a; transform:translateY(-1px); }

  /* Toast */
  .toast {
    position:fixed; bottom:30px; left:50%;
    transform:translateX(-50%);
    background:var(--gold); color:#0e0c0b;
    padding:12px 24px; border-radius:30px;
    font-size:13px; font-weight:600;
    z-index:9999; white-space:nowrap;
    animation:toastIn .3s ease, toastOut .3s ease 2.2s forwards;
    box-shadow:0 8px 30px rgba(0,0,0,0.4);
  }
  @keyframes toastIn { from{opacity:0;transform:translateX(-50%) translateY(16px)} to{opacity:1;transform:translateX(-50%) translateY(0)} }
  @keyframes toastOut { to{opacity:0} }

  /* Footer */
  footer {
    border-top:1px solid var(--border);
    padding:28px 40px;
    text-align:center;
    color:var(--muted);
    font-size:13px;
  }
  footer strong { color:var(--gold); font-family:'Bodoni Moda',serif; font-style:italic; }

  /* Responsive */
  @media(max-width:600px) {
    header { padding:0 20px; }
    .hero { padding:60px 20px 50px; }
    .shop { padding:40px 20px 60px; }
    .modal { padding:24px 20px; }
  }

  /* Stagger load */
  .product-card { opacity:0; animation:cardIn .5s ease forwards; }
  @keyframes cardIn { to{opacity:1} }
</style>
</head>
<body>

<!-- HEADER -->
<header>
  <div class="logo">Hain<em>painted</em> Closet</div>
  <div class="nav-right">
    <button class="btn-admin" onclick="openAdmin()">Admin</button>
    <button class="btn-cart" onclick="openCart()">
      üõç Cart <span class="cart-badge" id="cartBadge" style="display:none">0</span>
    </button>
  </div>
</header>

<!-- HERO -->
<section class="hero">
  <div class="hero-bg"></div>
  <div style="position:relative">
    <div class="hero-tag">handpicked ¬∑ handpainted ¬∑ one of a kind</div>
    <h1 class="hero-title">Hain<em>painted</em></h1>
    <p class="hero-sub">Curated pieces for the girl with the vision</p>
    <div class="hero-line"></div>
  </div>
</section>

<!-- SHOP -->
<section class="shop">
  <div class="shop-header">
    <h2 class="shop-title">The Collection</h2>
    <span class="shop-count" id="shopCount">0 pieces</span>
  </div>
  <div class="grid" id="productsGrid">
    <div class="empty">
      <span class="empty-icon">üåô</span>
      <p>The closet is being curated‚Ä¶</p>
    </div>
  </div>
</section>

<footer>
  <strong>Hainpainted Closet</strong> &nbsp;¬∑&nbsp; All pieces are final sale &nbsp;¬∑&nbsp; Orders via WhatsApp
</footer>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODALS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<!-- CART -->
<div class="overlay" id="cartModal" style="display:none" onclick="closeModal('cartModal')">
  <div class="modal" onclick="event.stopPropagation()">
    <button class="modal-close" onclick="closeModal('cartModal')">√ó</button>
    <div class="modal-title">Your Cart</div>
    <div class="modal-sub" id="cartSubtitle">Nothing here yet</div>
    <div id="cartItems"></div>
    <div id="cartFooter" style="display:none">
      <div class="cart-total-row">
        <span class="total-label">Total</span>
        <span class="total-val" id="cartTotal">‚Ç±0</span>
      </div>
      <button class="btn-primary" onclick="openCheckout()">Checkout via WhatsApp ‚Üí</button>
    </div>
  </div>
</div>

<!-- CHECKOUT -->
<div class="overlay" id="checkoutModal" style="display:none" onclick="closeModal('checkoutModal')">
  <div class="modal" onclick="event.stopPropagation()">
    <button class="modal-close" onclick="closeModal('checkoutModal')">√ó</button>
    <div class="modal-title">Order Details</div>
    <div class="modal-sub">We'll send your order to WhatsApp</div>

    <div class="wa-note">
      <span class="wa-icon">üí¨</span>
      <span>Fill in your details and we'll open WhatsApp with your full order ‚Äî just hit send!</span>
    </div>

    <div class="form-group">
      <label class="form-label">Full Name *</label>
      <input class="form-input" id="co_name" placeholder="Your full name"/>
    </div>
    <div class="form-group">
      <label class="form-label">Phone Number *</label>
      <input class="form-input" id="co_phone" placeholder="+63 or 09..."/>
    </div>
    <div class="form-group">
      <label class="form-label">Delivery Address *</label>
      <textarea class="form-input" id="co_address" rows="3" placeholder="Full delivery address" style="resize:vertical"></textarea>
    </div>
    <div class="form-group">
      <label class="form-label">Notes (optional)</label>
      <input class="form-input" id="co_notes" placeholder="Any special requests‚Ä¶"/>
    </div>

    <hr class="divider"/>
    <button class="btn-primary" onclick="placeOrder()">üì≤ Send Order on WhatsApp</button>
    <button class="btn-ghost" onclick="openCart()">‚Üê Back to Cart</button>
  </div>
</div>

<!-- SUCCESS -->
<div class="overlay" id="successModal" style="display:none" onclick="closeModal('successModal')">
  <div class="modal" onclick="event.stopPropagation()">
    <button class="modal-close" onclick="closeModal('successModal')">√ó</button>
    <div class="success-wrap">
      <span class="success-emoji">‚ú®</span>
      <div class="success-title">Order Ready!</div>
      <p class="success-msg">Your order summary has been prepared. Click below to open WhatsApp ‚Äî your message is already filled in, just press send!</p>
      <a id="waLink" class="wa-open-btn" target="_blank">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
        Open WhatsApp & Send
      </a>
      <button class="btn-ghost" onclick="closeModal('successModal')">Continue Shopping</button>
    </div>
  </div>
</div>

<!-- ADMIN LOGIN -->
<div class="overlay" id="loginModal" style="display:none" onclick="closeModal('loginModal')">
  <div class="modal" onclick="event.stopPropagation()">
    <button class="modal-close" onclick="closeModal('loginModal')">√ó</button>
    <div class="modal-title">Admin Access</div>
    <div class="modal-sub">Enter password to manage the closet</div>
    <div class="form-group">
      <label class="form-label">Password</label>
      <input class="form-input" type="password" id="adminPass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" onkeydown="if(event.key==='Enter')tryLogin()"/>
    </div>
    <button class="btn-primary" onclick="tryLogin()">Enter</button>
  </div>
</div>

<!-- ADMIN PANEL -->
<div class="overlay" id="adminModal" style="display:none" onclick="closeModal('adminModal')">
  <div class="modal modal-lg" onclick="event.stopPropagation()">
    <button class="modal-close" onclick="closeModal('adminModal')">√ó</button>
    <div class="modal-title">Admin Panel</div>
    <div class="modal-sub">Hainpainted Closet</div>

    <div class="tab-bar">
      <button class="tab active" id="tab-add" onclick="switchTab('add')">Add Product</button>
      <button class="tab" id="tab-products" onclick="switchTab('products')">Products</button>
      <button class="tab" id="tab-orders" onclick="switchTab('orders')">Orders</button>
    </div>

    <!-- ADD PRODUCT -->
    <div id="panel-add">
      <label class="upload-box" id="uploadBox">
        <input type="file" accept="image/*" onchange="handleImage(event)"/>
        <div id="uploadInner">
          <span class="upload-icon">üñºÔ∏è</span>
          <div class="upload-text">Click to upload product photo</div>
        </div>
      </label>
      <div class="form-group">
        <label class="form-label">Product Title</label>
        <input class="form-input" id="p_title" placeholder="e.g. Hand-painted Denim Jacket"/>
      </div>
      <div class="form-group">
        <label class="form-label">Price (‚Ç±)</label>
        <input class="form-input" id="p_price" type="number" placeholder="0.00"/>
      </div>
      <button class="btn-primary" onclick="addProduct()">Add to Closet ‚ú®</button>
    </div>

    <!-- PRODUCTS LIST -->
    <div id="panel-products" style="display:none">
      <div id="adminProductsList"></div>
    </div>

    <!-- ORDERS -->
    <div id="panel-orders" style="display:none">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
        <span style="color:var(--muted);font-size:13px" id="ordersCount">0 orders</span>
        <button class="csv-btn" onclick="downloadCSV()">‚¨á Download CSV</button>
      </div>
      <div id="adminOrdersList"></div>
    </div>
  </div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STATE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const ADMIN_PASS = 'hainpainted2024'; // ‚Üê change this password
const WA_NUMBER  = '03092570693';     // ‚Üê WhatsApp number

let products = JSON.parse(localStorage.getItem('hc_products') || '[]');
let orders   = JSON.parse(localStorage.getItem('hc_orders')   || '[]');
let cart     = [];
let adminAuth = false;
let pendingImageData = null;
let pendingWaLink = '';

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SAVE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function saveProducts() { localStorage.setItem('hc_products', JSON.stringify(products)); }
function saveOrders()   { localStorage.setItem('hc_orders',   JSON.stringify(orders));   }

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê RENDER PRODUCTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderProducts() {
  const grid = document.getElementById('productsGrid');
  document.getElementById('shopCount').textContent = products.length + ' piece' + (products.length!==1?'s':'');
  if (products.length === 0) {
    grid.innerHTML = `<div class="empty"><span class="empty-icon">üåô</span><p>The closet is being curated‚Ä¶</p></div>`;
    return;
  }
  grid.innerHTML = products.map((p, i) => `
    <div class="product-card" style="animation-delay:${i*0.07}s">
      <div class="product-img">
        ${p.img ? `<img src="${p.img}" alt="${p.title}"/>` : 'üå∫'}
      </div>
      <div class="product-body">
        <div class="product-name">${p.title}</div>
        <div class="product-price">‚Ç±${parseFloat(p.price).toLocaleString('en-PH', {minimumFractionDigits:2})}</div>
        <button class="btn-add" onclick="addToCart('${p.id}')">Add to Cart</button>
      </div>
    </div>
  `).join('');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CART ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function addToCart(id) {
  const p = products.find(x => x.id === id);
  if (!p) return;
  const exists = cart.find(x => x.id === id);
  if (exists) exists.qty++;
  else cart.push({ ...p, qty: 1 });
  updateCartBadge();
  toast('Added to cart ‚úì');
}

function updateCartBadge() {
  const total = cart.reduce((s,i)=>s+i.qty,0);
  const badge = document.getElementById('cartBadge');
  badge.textContent = total;
  badge.style.display = total > 0 ? 'flex' : 'none';
}

function openCart() {
  closeAllModals();
  renderCart();
  document.getElementById('cartModal').style.display = 'flex';
}

function renderCart() {
  const sub = document.getElementById('cartSubtitle');
  const itemsEl = document.getElementById('cartItems');
  const footer = document.getElementById('cartFooter');
  const totalEl = document.getElementById('cartTotal');
  const total = cart.reduce((s,i)=>s+(parseFloat(i.price)*i.qty),0);
  const count = cart.reduce((s,i)=>s+i.qty,0);

  sub.textContent = count === 0 ? 'Nothing here yet' : `${count} item${count>1?'s':''}`;

  if (cart.length === 0) {
    itemsEl.innerHTML = `<div style="text-align:center;padding:40px 0;color:var(--muted)"><div style="font-size:48px;margin-bottom:12px">üõç</div><p>Your cart is empty</p></div>`;
    footer.style.display = 'none';
    return;
  }

  itemsEl.innerHTML = cart.map(item => `
    <div class="cart-item">
      <div class="cart-thumb">
        ${item.img ? `<img src="${item.img}" alt="${item.title}"/>` : 'üå∫'}
      </div>
      <div class="cart-info">
        <div class="cart-name">${item.title}</div>
        <div class="cart-price">‚Ç±${parseFloat(item.price).toLocaleString('en-PH',{minimumFractionDigits:2})} each</div>
      </div>
      <div class="qty-wrap">
        <button class="qty-btn" onclick="changeQty('${item.id}',-1)">‚àí</button>
        <span class="qty-num">${item.qty}</span>
        <button class="qty-btn" onclick="changeQty('${item.id}',1)">+</button>
        <button class="remove-btn" onclick="removeItem('${item.id}')">üóë</button>
      </div>
    </div>
  `).join('');

  totalEl.textContent = '‚Ç±' + total.toLocaleString('en-PH', {minimumFractionDigits:2});
  footer.style.display = 'block';
}

function changeQty(id, delta) {
  const item = cart.find(x=>x.id===id);
  if (!item) return;
  item.qty = Math.max(1, item.qty + delta);
  updateCartBadge();
  renderCart();
}

function removeItem(id) {
  cart = cart.filter(x=>x.id!==id);
  updateCartBadge();
  renderCart();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CHECKOUT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function openCheckout() {
  closeAllModals();
  document.getElementById('checkoutModal').style.display = 'flex';
}

function placeOrder() {
  const name    = document.getElementById('co_name').value.trim();
  const phone   = document.getElementById('co_phone').value.trim();
  const address = document.getElementById('co_address').value.trim();
  const notes   = document.getElementById('co_notes').value.trim();

  if (!name || !phone || !address) { toast('Please fill all required fields'); return; }

  const total = cart.reduce((s,i)=>s+(parseFloat(i.price)*i.qty),0);
  const orderId = 'ORD-' + Date.now();
  const dateStr = new Date().toLocaleString('en-PH');

  // Build WhatsApp message
  const itemLines = cart.map(i => `‚Ä¢ ${i.title} x${i.qty} = ‚Ç±${(parseFloat(i.price)*i.qty).toLocaleString('en-PH',{minimumFractionDigits:2})}`).join('\n');
  const msg = 
`üõç *New Order from Hainpainted Closet*

üìã *Order ID:* ${orderId}
üìÖ *Date:* ${dateStr}

üë§ *Name:* ${name}
üì± *Phone:* ${phone}
üìç *Address:* ${address}${notes ? `\nüìù *Notes:* ${notes}` : ''}

*Items:*
${itemLines}

üíõ *Total: ‚Ç±${total.toLocaleString('en-PH',{minimumFractionDigits:2})}*

Payment upon delivery. Thank you!`;

  // Clean phone number for WA link
  let waNum = WA_NUMBER.replace(/\D/g,'');
  if (waNum.startsWith('0')) waNum = '92' + waNum.slice(1); // Pakistan prefix

  const waUrl = `https://wa.me/${waNum}?text=${encodeURIComponent(msg)}`;

  // Save order
  const order = { id: orderId, date: dateStr, name, phone, address, notes, items: cart.map(i=>`${i.title} x${i.qty}`).join('; '), total: total.toFixed(2) };
  orders.push(order);
  saveOrders();

  // Clear cart
  cart = [];
  updateCartBadge();

  // Clear form
  ['co_name','co_phone','co_address','co_notes'].forEach(id => document.getElementById(id).value='');

  // Show success with WA link
  document.getElementById('waLink').href = waUrl;
  closeAllModals();
  document.getElementById('successModal').style.display = 'flex';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ADMIN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function openAdmin() {
  if (adminAuth) { openAdminPanel(); }
  else { closeAllModals(); document.getElementById('loginModal').style.display='flex'; }
}

function tryLogin() {
  const pass = document.getElementById('adminPass').value;
  if (pass === ADMIN_PASS) {
    adminAuth = true;
    document.getElementById('adminPass').value = '';
    closeAllModals();
    openAdminPanel();
  } else {
    toast('Incorrect password');
  }
}

function openAdminPanel() {
  closeAllModals();
  switchTab('add');
  document.getElementById('adminModal').style.display = 'flex';
}

function switchTab(name) {
  ['add','products','orders'].forEach(t => {
    document.getElementById('tab-'+t).classList.toggle('active', t===name);
    document.getElementById('panel-'+t).style.display = t===name ? 'block' : 'none';
  });
  if (name === 'products') renderAdminProducts();
  if (name === 'orders') renderAdminOrders();
}

function handleImage(e) {
  const file = e.target.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = ev => {
    pendingImageData = ev.target.result;
    document.getElementById('uploadInner').innerHTML = `<img src="${pendingImageData}" class="upload-preview"/>`;
  };
  reader.readAsDataURL(file);
}

function addProduct() {
  const title = document.getElementById('p_title').value.trim();
  const price = document.getElementById('p_price').value.trim();
  if (!title || !price) { toast('Please enter title and price'); return; }
  
  products.push({ id: Date.now().toString(), title, price: parseFloat(price).toFixed(2), img: pendingImageData || null });
  saveProducts();
  renderProducts();

  document.getElementById('p_title').value = '';
  document.getElementById('p_price').value = '';
  pendingImageData = null;
  document.getElementById('uploadInner').innerHTML = `<span class="upload-icon">üñºÔ∏è</span><div class="upload-text">Click to upload product photo</div>`;
  toast('Product added ‚úì');
}

function deleteProduct(id) {
  products = products.filter(p=>p.id!==id);
  saveProducts();
  renderProducts();
  renderAdminProducts();
  toast('Product removed');
}

function renderAdminProducts() {
  const el = document.getElementById('adminProductsList');
  if (products.length === 0) { el.innerHTML = `<p style="color:var(--muted);text-align:center;padding:30px">No products yet.</p>`; return; }
  el.innerHTML = products.map(p => `
    <div class="p-item">
      <div class="p-thumb">${p.img ? `<img src="${p.img}" alt="${p.title}"/>` : 'üå∫'}</div>
      <div class="p-info">
        <div class="p-name">${p.title}</div>
        <div class="p-price">‚Ç±${parseFloat(p.price).toLocaleString('en-PH',{minimumFractionDigits:2})}</div>
      </div>
      <button class="btn-del" onclick="deleteProduct('${p.id}')">Remove</button>
    </div>
  `).join('');
}

function renderAdminOrders() {
  const el = document.getElementById('adminOrdersList');
  document.getElementById('ordersCount').textContent = orders.length + ' order' + (orders.length!==1?'s':'');
  if (orders.length === 0) { el.innerHTML = `<p style="color:var(--muted);text-align:center;padding:30px">No orders yet.</p>`; return; }
  el.innerHTML = [...orders].reverse().map(o => `
    <div class="order-card">
      <div class="order-header">
        <span class="order-id">${o.id}</span>
        <span class="order-date">${o.date}</span>
      </div>
      <div class="order-customer">${o.name}</div>
      <div class="order-contact">üì± ${o.phone} &nbsp;|&nbsp; üìç ${o.address}</div>
      <div class="order-items">${o.items}</div>
      <div class="order-footer">
        <span class="order-total">‚Ç±${parseFloat(o.total).toLocaleString('en-PH',{minimumFractionDigits:2})}</span>
        <span class="order-status">Confirmed</span>
      </div>
    </div>
  `).join('');
}

function downloadCSV() {
  if (orders.length === 0) { toast('No orders to download'); return; }
  const headers = ['Order ID','Date','Name','Phone','Address','Notes','Items','Total'];
  const rows = orders.map(o => [o.id, o.date, o.name, o.phone, o.address, o.notes||'', o.items, '‚Ç±'+o.total]);
  const csv = [headers, ...rows].map(r => r.map(c=>`"${(c||'').replace(/"/g,'""')}"`).join(',')).join('\n');
  const blob = new Blob([csv],{type:'text/csv'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href=url; a.download='hainpainted-orders.csv'; a.click();
  URL.revokeObjectURL(url);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê UTILS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function closeModal(id) { document.getElementById(id).style.display='none'; }
function closeAllModals() { ['cartModal','checkoutModal','adminModal','loginModal','successModal'].forEach(id => closeModal(id)); }

let toastTimer;
function toast(msg) {
  const existing = document.querySelector('.toast');
  if (existing) existing.remove();
  clearTimeout(toastTimer);
  const el = document.createElement('div');
  el.className = 'toast';
  el.textContent = msg;
  document.body.appendChild(el);
  toastTimer = setTimeout(()=>el.remove(), 2600);
}

// Close on Escape
document.addEventListener('keydown', e => { if (e.key==='Escape') closeAllModals(); });

// Init
renderProducts();
</script>
</body>
</html>
